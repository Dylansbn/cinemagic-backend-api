# --- Configuration de l'environnement de base ---
FROM --platform=linux/amd64 python:3.10

# Définit le répertoire de travail
WORKDIR /app

# --- Installation des dépendances ---
# Copie le fichier de dépendances
COPY requirements-pro.txt .

# Installe les paquets
RUN pip install --no-cache-dir -r requirements-pro.txt

# --- Copie du code et Lancement ---
# Copie le reste du code
COPY . .

# Définit la commande de démarrage (utilise Gunicorn)
CMD gunicorn --bind 0.0.0.0:$PORT server:app